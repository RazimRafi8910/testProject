<%- include('../partials/header.ejs') %>
    <%- include('../partials/user-navbar.ejs') %>

<style>
     input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}
</style>
    
    <div class="container">
        <div class="row mt-5">
            <h2 class="mb-0">Add New Address</h2>
            <hr class="mt-0">
        </div>

        <% if( message.message ) { %>
          <div class="alert alert-success" role="alert">
              <%= message.message %>
            </div>
            <% } %>
            <% if( message.error ) { %>
              <div class="alert alert-danger" role="alert">
                  <%= message.error %>
                </div>
                <% } %>

            <form class="row mb-5 mt-2 g-3 needs-validation" action="/address/<%= user._id %>/add" method="post" novalidate>
                <div class="col-md-6">
                  <div class="form-floating mb-3">
                    <% if( message.housename ) { %>
                      <input type="text" class="form-control is-invalid" id="floatingInputInvalid" name="houseName" >
                      <label for="floatingInputInvalid" class="text-danger"><%= message.housename %></label>
                      <% } else { %>
                    <input type="text" class="form-control" id="floatingInput" name="houseName" required>
                    <label for="floatingInput">House Name</label>
                    <% } %>
                  </div>
                </div>
                <div class="col-md-6">
                    <div class="form-floating mb-3">
                      <% if( message.town ) { %>
                        <input type="text" class="form-control is-invalid" id="floatingInputInvalid" name="town">
                        <label for="floatingInputInvalid" class="text-danger"><%= message.town %></label>
                        <% } else { %>
                        <input type="text"  class="form-control" id="floatingInput" name="town" required>
                        <label for="floatingInput">Town</label>
                        <% } %>
                      </div>
                </div>
                  <div class="form-floating">
                    <% if( message.address ) { %>
                      <input type="text" class="form-control is-invalid" id="floatingInputInvalid" name="address" style="height: 100px">
                      <label for="floatingInputInvalid" class="text-danger"><%= message.address %></label>
                      <% } else { %>
                        <textarea class="form-control" name="address" placeholder="Leave a comment here" id="floatingTextarea2" required style="height: 100px"></textarea>
                        <label for="floatingTextarea2" class="text-muted">Address (street and area)</label>
                      <% } %> 
                    </div>
                <div class="col-md-6">
                    <div class="form-floating mb-3">
                      <% if( message.city ) { %>
                        <input type="text" class="form-control is-invalid" name="city" id="floatingInputInvalid">
                        <label for="floatingInputInvalid" class="text-danger"><%= message.city %></label>
                        <% } else { %>
                        <input type="text"  class="form-control" id="floatingInput" name="city" required>
                        <label for="floatingInput">City</label>
                        <% } %>
                      </div>
                </div>
                <div class="col-md-4">
                    <div class="form-floating mb-3">
                      <% if( message.state ) { %>
                        <input type="text" class="form-control is-invalid" name="state" id="floatingInputInvalid">
                        <label for="floatingInputInvalid" class="text-danger"><%= message.state %></label>
                        <% } else { %>
                        <input type="text" class="form-control" id="floatingInput" name="state" required>
                        <label for="floatingInput">State</label>
                        <% } %>
                      </div>
                </div>
                <div class="col-md-2">
                    <div class="form-floating mb-3">
                      <% if( message.pincode ) { %>
                        <input type="number" class="form-control is-invalid" name="pincode" id="floatingInputInvalid">
                        <label for="floatingInputInvalid" class="text-danger"><%= message.pincode %></label>
                        <% } else { %>
                        <input type="number" class="form-control" id="floatingInput" name="pincode" required>
                        <label for="floatingInput">Pincode</label>
                        <% } %>
                      </div>
                </div>
                <div class="col-12 d-flex">
                    <div class="form-check mx-2">
                        <input class="form-check-input" type="radio" value="home" name="addressType" id="flexRadioDefault1" checked>
                        <label class="form-check-label" for="flexRadioDefault1">
                          Home
                        </label>
                      </div>
                      <div class="form-check mx-2">
                        <input class="form-check-input" type="radio" value="work" name="addressType" id="flexRadioDefault2" >
                        <label class="form-check-label" for="flexRadioDefault2">
                          Work
                        </label>
                      </div>
                </div>
                <div class="col-12  ">
                  <button type="submit" class="btn btn-primary">Add Address</button>
                </div>
              </form>

              <div class="row">

              </div>

    </div>
    




    <%- include('../partials/footer.ejs') %>

    <script>
  (function () {
      'use strict'

      // Fetch all the forms we want to apply custom Bootstrap validation styles to
      var forms = document.querySelectorAll('.needs-validation')

      // Loop over them and prevent submission
      Array.prototype.slice.call(forms)
        .forEach(function (form) {
          form.addEventListener('submit', function (event) {
            if (!form.checkValidity()) {
              event.preventDefault()
              event.stopPropagation()
            }

            form.classList.add('was-validated')
          }, false)
        })
  })()
    </script>