<%- include('../partials/header.ejs') %>
<%- include('../partials/admin-navebar.ejs')%>

<div class="px-4 col-xl-10 col-lg-9 col-md-9 col-10">
    <h2 class="mt-4 fw-bold subheading">Orders</h2>
    <hr size="4">

    <div class="row mx-4 mt-4">
      <div class="col-lg-2 col-md-3">
        <h6>User Name</h6>
      </div>
        <div class="col-lg-3 col-md-3">
          <h6>Order Id</h6>
        </div>
        <div class="col-lg-2 col-md-3 text-center">
          <h6>Order Date</h6>
        </div>
        <div class="col-lg-2 col-md-2 text-center">
          <h6>Order Status</h6>
        </div>
        <div class="col-lg-2 col-md-2 text-center">
          <h6>Total price</h6>
        </div>
        <div class="col-lg-1 col-md-2 text-center">
          <h6>Update</h6>
        </div>
      </div>

      <% orders.forEach(function(order){ %>
        <div class="card border border-secondary" >
          <div class="row g-0 d-flex align-items-center px-2">
            
            <div class="col-lg-2 col-md-3">
              <div class="card-body px-2">
                  
                <h5 class="card-title fw-bold text-start"> <%= order.user_id.username %></h5>
              </div>
            </div>
            <div class="col-lg-3 col-md-3">
              <div class="card-body px-2">
                  
                <h5 class="card-title fw-bold text-start"><%= order._id %></h5>
              </div>
            </div>
            <div class="col-lg-2 col-md-3">
              <div class="card-body text-center">
                  
                <h5 class="card-title"><%= order.orderDate.toLocaleString('default',{day: 'numeric', month: 'numeric', year: 'numeric'}) %></h5>
              </div>
            </div>
            <div class="col-lg-2 col-md-2">
              <div class="card-body text-center">
                <% if(order.orderStatus === 'Processing'){ %>
                  <h5 class="card-title text-muted"><%= order.orderStatus %></h5>
                  <% } else if(order.orderStatus === 'Confrimed') { %>
                    <h5 class="card-title"><%= order.orderStatus %></h5>
                    <% } else if(order.orderStatus === 'Shipping') { %>
                      <h5 class="card-title text-warning"><%= order.orderStatus %></h5>
                      <% } else if(order.orderStatus === 'Cancelled') {%>
                        <h5 class="card-title text-danger"><%= order.orderStatus %></h5>
                        <% } else if(order.orderStatus === 'Return Pending') {%>
                          <h5 class="card-title text-danger"><%= order.orderStatus %></h5>
                        <% } else { %> 
                          <h5 class="card-title text-success"><%= order.orderStatus %></h5>
                          <% } %> 
              </div>
            </div>
            <div class="col-lg-2 col-md-2">
              <div class="card-body text-center">
                  
                <h5 class="card-title">Rs <%= order.totalPrice %></h5>
              </div>
            </div>
            <div class="col-lg-1 col-md-2 ">
              <div class="card-body ">
                  
                <a href="/admin/orders/<%= order._id %>"><button class="btn btn-outline-dark fw-bold" type="button"><i class="fa-solid fa-pen-to-square"></i></button></a>
              </div>
            </div>
          </div>
        </div>
  <% }) %>

    
</div>
</div>
</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
